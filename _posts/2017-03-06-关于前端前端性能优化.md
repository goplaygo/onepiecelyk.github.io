---
layout: post
title: 关于前端优化
date: 2017-03-06 
tags: 博客   
---

#### 前言

以下文章内容如有错误，请及时评论，我会立即修改。谢谢！

这几天在关注小胡子哥的一篇关于性能的专栏[github](https://github.com/barretlee/performance-column)
自己也在总结关于前端网站优化的知识点。

#### 关于前端优化

**前端优化的目的**

 - 从用户的角度来说，优化是为了让页面加载更快，对用户的操作相应更及时，能够给用户更为友好的体验。 
 - 从服务商来说，优化能减少页面的请求次数，或减少请求的带宽，能节省客观的资源
 总之，恰当的优化能改善站点的用户体验，并且能节省一部分资源利用。
前端的优化按照粒度可以分为两类：*页面级*优化，如http请求数，脚本的无阻塞加载，内联脚本的位置优化等与*代码级*优化，如JavaScript中的DOM操作，css选择器优化，图片的优化以及html结构的优化。

##### 页面级优化

 - 减少HTTP请求：(1)设计层面上简化页面(2)合理设置HTTP缓存(3)资源合并与压缩(4)css精灵图(5)懒加载(6)inline 
 - 将外置脚本置底(将脚本内容在页面信息内容加载后再加载)
 - 异步执行inline脚本(原理与2相同)
 - 懒加载(lazy load JavaScript)：只需在加载时加载，在一般情况下并不加载信息
 - 将css问价放置到Head中去
 - 减少不必要的HTTP跳转
 - 避免使用table，因为table要等到内容完全加载时才出现，显示的比div+css慢

##### 代码级的优化

- JavaScript：(1)减少DOM用innerHTML代替(2)减少作用链查找(3)字符串拼接(4)慎用with
- css选择符
- Images压缩

当然说起优化还是要看一下Yahoo前端优化军规的：

- 尽可能的减少HTTP的请求数
- 使用CDN(ContentDeliveryNetword)
- 添加Expire头
- GZip组件
- 将css放到页面上方，将脚本放到底部
- 将JavaScript和CSS 独立成外部文件
- 减少DNS查询
- 压缩JavaScript和CSS，还有内联文件
- 避免重定向
- 移除重复的脚本
- 使用AJAX缓存
- 避免使用CSS的Expressions(表达式)


##### 总结

对普通网站有一个统一的思路，就是尽量向前端优化，减少数据库操作，较少io，向前端优化指的是，在不影响功能和体验的情况下，能在浏览器执行的不要在服务器操作执行，能在缓存服务器上直接返回的不要到应用服务器，程序能直接取到的结果不要外部取得，内存取的不要再磁盘取得，缓存中有的不要再数据库查询，程序优化永远要优化慢的地方，换语言是无法'优化'的

